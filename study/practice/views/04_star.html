<!DOCTYPE html>
<html>
<head>
    <title>별이 쏟아지는</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <link rel="stylesheet" type="text/css" href="../css/reset.css" />
    <link rel="stylesheet" type="text/css" href="../css/star.css" />

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js"></script>
    <script type="text/javascript" src="https://unpkg.com/gsap@3/dist/ScrollToPlugin.min.js"></script>
</head>
<body>
  <div class="starBg"></div>
  <section class="top">
    <h1 class="title">
      <div>별</div>
      <div>이 &nbsp;</div>
      <div>쏟</div>
      <div>아</div>
      <div>지</div>
      <div>는 &nbsp;</div>
      <div>코</div>
      <div>딩</div>
      <div>일</div>
      <div>레</div>
      <div>븐</div>
    </h1> 
  </section>

  <section class="bottom">
    <div class="contWrap">
      <ul>
        <li><p>card</p></li>
        <li><p>card</p></li>
        <li><p>card</p></li>
        <li><p>card</p></li>
      </ul>
      <h2>별이 쏟아지는, 인터랙티브</h2>
    </div>
    <button button="type" class="topBtn">TOP</button>
  </section>
  <script>
    window.onload = function(){

    var starBg = document.querySelector(".starBg");
    var title = document.querySelector(".title");
    var topBtn = document.querySelector(".topBtn");
    
    //스크롤 이벤트
    window.addEventListener("scroll", function(event){
        // scrollTop = document.documentElement.scrollTop;
        var scroll = this.scrollY;
        starBg.style.transform = "translateY("+ -scroll/3 +"px)";
        title.style.transform = "translateY("+ scroll/1.7 +"px)";
    });

    //텍스트 모션
    for(var i=0; i < title.querySelectorAll('div').length; i++){
        
        var _text = title.querySelectorAll('div')[i];

        TweenMax.from( _text , 1, {
            autoAlpha:0,
            // scale:4,
            // rotate: Math.random()*360,
            delay : Math.random()*1,
            ease:Power3.easeInOut 
        });
    }

    
    //스크롤 이동하는 3가지 방법
    // setTimeout(function(){
    //     window.scrollTo({
    //         top: document.querySelector('.bottom').offsetTop
    //         ,behavior: 'smooth'
    //     });
    //     // document.querySelector('.bottom').scrollIntoView({ behavior: 'smooth' });
    // }, 2000)

    TweenMax.to( window, 2, {
        scrollTo:{
            y: ".bottom"
            //autoKill: true
        }, 
        delay : 1.7,
        ease:Power4.easeInOut 
    });
    
    //하단 영역 커지는 것
    TweenMax.from( ".bottom", 2.5, {
        scale : .7,
        y:100,
        delay : 2.2,
        ease:Power3.easeInOut 
    });

    topBtn.addEventListener("click", function(){
        TweenMax.to( window, 1.5, {
            scrollTo:{
                y: 0,
                autoKill: true
            }, 
            ease:Power3.easeInOut 
        });
    })


    // var bgColorArr = ["#85FFBD", "#FFFB7D", "#E0C3FC", "#00DBDE"];
    // var cardItem = document.querySelector(".contWrap").querySelectorAll("li");

    // for( var i = 0; i < cardItem.length; i++ ){
    //     (function(idx) {
    //         cardItem[idx].onclick = function() {
    //             // alert(idx)
    //             document.getElementsByTagName("body")[0].style.background = bgColorArr[idx];
    //         }
    //     })(i);
        
    // }

}
  </script>
</body>
</html>